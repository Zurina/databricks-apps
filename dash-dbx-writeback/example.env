# =============================================================================
# Dash Databricks Writeback - Environment Configuration
# =============================================================================
#
# Quick Start:
#   1. Copy this file: cp example.env .env
#   2. Set LAKEBASE_INSTANCE_NAME below
#   3. Run: export $(grep -v '^#' .env | xargs) && uv run python -m src.dash_dbx_writeback
#
# Prerequisites:
#   - Databricks CLI configured: databricks configure --token
#
# =============================================================================

# -----------------------------------------------------------------------------
# Required: Lakebase Instance
# -----------------------------------------------------------------------------
# Your Lakebase instance name (find in: Databricks Workspace → SQL → Databases)
LAKEBASE_INSTANCE_NAME=your-instance-name

# Database name (defaults to databricks_postgres if not set)
LAKEBASE_DATABASE=databricks_postgres

# Schema name (defaults to public if not set)
LAKEBASE_SCHEMA=public

# -----------------------------------------------------------------------------
# Optional: Connection Pool Settings
# -----------------------------------------------------------------------------
POOL_MIN_SIZE=1
POOL_MAX_SIZE=5

# -----------------------------------------------------------------------------
# Advanced: Manual PostgreSQL Configuration (Optional)
# -----------------------------------------------------------------------------
# Only needed if you can't use WorkspaceClient auto-configuration.
# When deployed to Databricks Apps, these are injected automatically.
#
# PGHOST=your-instance.cloud-region.dbsqlcloud.databricks.com
# PGPORT=5432
# PGDATABASE=databricks_postgres
# PGUSER=your.email@company.com
# PGSSLMODE=require

# -----------------------------------------------------------------------------
# Testing: Test Database Configuration (Optional)
# -----------------------------------------------------------------------------
# Only needed when running tests. See tests/README.md for details.
#
# LAKEBASE_TEST_DATABASE=databricks_postgres_test
# LAKEBASE_TEST_SCHEMA=test_schema

# =============================================================================
# Example Configuration
# =============================================================================
#
# LAKEBASE_INSTANCE_NAME=daveok
# LAKEBASE_DATABASE=databricks_postgres
# LAKEBASE_SCHEMA=public
#
# The app will automatically determine:
#   - PGUSER from current_user.me().user_name
#   - PGHOST from database.get_database_instance(name).read_write_dns
#   - OAuth tokens for secure authentication
#
